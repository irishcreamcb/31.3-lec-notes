\documentclass{book}
\usepackage{amsmath}
\usepackage[a4paper,left=25mm,right=25mm,top=30mm,bottom=30mm]{geometry} 
\usepackage{amsthm, amssymb} 
\usepackage[light,condensed,math]{iwona}
\usepackage{titlesec}
\usepackage{enumerate} 
\usepackage{graphicx} 
\usepackage[dvipsnames]{xcolor}
\usepackage{transparent} 
\usepackage{tikz} 
\usepackage{cancel} 
\usepackage[T1]{fontenc}
\usepackage{mdframed}
\usepackage{setspace}

\title{31.3 lec notes} 
\author{emily} 
\date{\today} 

\fboxsep=4pt
\renewcommand{\footnoterule}{\vfill\kern-3pt \hrule width 0.4\columnwidth\kern2.6pt} %yoinked from LSE
\renewcommand{\labelitemi}{$\rightarrow$}
\renewcommand{\labelenumi}{\colorbox{pink}{\textbf{\arabic{enumi}}}}
\renewcommand{\labelenumii}{\transparent{0.5}\colorbox{CornflowerBlue}{\transparent{1.0}\textbf{\alph{enumii}}}}

\newenvironment{solution}
  {\renewcommand\qedsymbol{$\blacksquare$}\begin{proof}[Solution]}
  {\end{proof}}

\newcounter{example}[section]

\newenvironment{example}
  {\renewcommand\qedsymbol{$\blacksquare$}\stepcounter{example}\begin{proof}[\upshape\textsc{\textbf{\large{Example \arabic{example}}}}]}
  {\end{proof}}

\renewcommand{\theequation}{\thechapter.\arabic{equation}}
\renewcommand{\thesection}{\colorbox{CornflowerBlue!30}{\LARGE\scshape\thechapter.\arabic{section}}}

\titleformat{\chapter}[block]
  {\normalfont\huge\bfseries}{\colorbox{Periwinkle!40}{\scshape\thechapter}}{1em}{\LARGE\scshape}
\titlespacing*{\chapter}{0pt}{-19pt}{20pt}

\newcounter{theo}[section] %yoinked from: https://texdoc.org/serve/mdframed/0
\newenvironment{theo}[1][]{%
    \stepcounter{theo}%
    \ifstrempty{#1}%
    {\mdfsetup{%
        frametitle={%
            \tikz[baseline= (current bounding box.east),outer sep=0pt]
            \node[anchor=east,rectangle,fill=pink!40]
            {\strut{} };}}
    }%
    {\mdfsetup{%
        frametitle={%
            \tikz[baseline= (current bounding box.east),outer sep=0pt]
            \node[anchor=east,rectangle,fill=pink]
        {\scshape\large\strut{}~Theorem \thechapter.\thetheo{}: #1~~};}}%
    }%
    \mdfsetup{innertopmargin=10pt,linecolor=pink,%
        linewidth=2pt,topline=true,
        frametitleaboveskip=\dimexpr-\ht\strutbox\relax,}
    \begin{mdframed}[]\relax%
}{\vspace{1pt}\end{mdframed}}

\newenvironment{defn}[1][]{%
    \ifstrempty{#1}%
    {\mdfsetup{%
        frametitle={%
            \tikz[baseline= (current bounding box.east),outer sep=0pt]
            \node[anchor=east,rectangle,fill=CornflowerBlue!40]
            {\strut{} };}}
    }%
    {\mdfsetup{%
        frametitle={%
            \tikz[baseline= (current bounding box.east),outer sep=0pt]
            \node[anchor=east,rectangle,fill=CornflowerBlue!40]
        {\scshape\strut{}~Definitions:~\textnormal{\textit{#1~~}}};}}%
    }%
    \mdfsetup{innertopmargin=1.5pt,linecolor=CornflowerBlue!40,%
        linewidth=2pt,topline=true,
        frametitleaboveskip=\dimexpr-\ht\strutbox\relax,}
    \begin{mdframed}[]\relax%
}{\end{mdframed}}

\newcommand{\lh}{l'H\^{o}pital}
\newcommand{\der}{\mathrm{d}}
\newcommand{\e}{\mathrm{e}}

\makeatletter
\newcommand*{\defeq}{\mathrel{\rlap{%
                     \raisebox{0.3ex}{$\m@th\cdot$}}%
                     \raisebox{-0.3ex}{$\m@th\cdot$}}%
                     =}
\makeatother

\pagestyle{plain}

\setstretch{1.25}

\begin{document}

\include{chapter1}

\end{document}